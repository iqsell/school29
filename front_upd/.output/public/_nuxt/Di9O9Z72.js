import{u as y}from"./672SuqOJ.js";import{f as k,p as D,r,q as b,s as B,u as C,c as n,j as e,a as t,m as R,t as c,F as x,h as N,o,_ as U}from"./EK8n9t8Q.js";const $={key:0,class:"news-detail"},F={class:"news-header"},H={class:"news-detail__header"},I={class:"news-date"},L={class:"news-updatedDate"},S={key:0,class:"news-detail__image"},V=["src","alt"],j={class:"news-detail__content"},q={key:1,class:"loading"},E={key:2,class:"error"},M=k({__name:"[id]",setup(z){y({title:"Новость | 29"});const h=D().params.id,d=r(!1),u=b();B(()=>{d.value=window.history.length>2,f()});const m=()=>{d.value?u.go(-1):u.push("/allnews")},p=C().public.apiUrl,s=r(null),l=r(!0),i=r(null),f=async()=>{try{l.value=!0,i.value=null;const a=await $fetch(`${p}/news/${h}/`);s.value=a}catch(a){console.error("Ошибка загрузки новости:",a),i.value="Не удалось загрузить новость"}finally{l.value=!1}},_=a=>new Date(a).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});return(a,v)=>!e(l)&&e(s)?(o(),n("div",$,[t("div",F,[t("div",H,[t("button",{class:"back-link",onClick:m},"← Назад"),t("h1",null,c(e(s).title),1),t("div",I,c(_(e(s).created_at)),1),t("div",L,"Обновленно: "+c(_(e(s).updated_at)),1)]),e(s).image?(o(),n("div",S,[t("img",{src:e(s).image,alt:e(s).title},null,8,V)])):R("",!0)]),t("div",j,[(o(!0),n(x,null,N(e(s).content.split(`
`),(g,w)=>(o(),n("p",{key:w},c(g),1))),128))])])):e(l)?(o(),n("div",q," Загрузка... ")):(o(),n("div",E,c(e(i)||"Новость не найдена"),1))}}),O=U(M,[["__scopeId","data-v-f223b72c"]]);export{O as default};
